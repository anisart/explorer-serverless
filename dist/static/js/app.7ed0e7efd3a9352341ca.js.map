{"version":3,"sources":["webpack:///static/js/app.7ed0e7efd3a9352341ca.js","webpack:///./src/App.vue","webpack:///src/components/Map.vue","webpack:///./src/components/Map.vue","webpack:///src/App.vue","webpack:///./src/App.vue?9edd","webpack:///./src/components/Map.vue?6666","webpack:///./src/router/index.js","webpack:///./src/store/index.js","webpack:///src/components/ExplorerZoomDialog.vue","webpack:///./src/components/ExplorerZoomDialog.vue?a018","webpack:///./src/components/ExplorerZoomDialog.vue","webpack:///./src/main.js"],"names":["webpackJsonp","0","module","exports","NHnr","__webpack_exports__","__webpack_require__","injectStyle","ssrContext","lon2tile","lon","zoom","Math","floor","pow","lat2tile","lat","log","tan","PI","cos","tile2lon","x","tile2lat","y","n","atan","exp","tile2bbox","north","south","west","east","Map_injectStyle","Object","defineProperty","value","vue_runtime_esm","vuetify","vuetify_default","togeojson","togeojson_default","App","name","data","sideNav","menuItems","title","icon","action","methods","menuItemClicked","this","$refs","fileInput","click","explorerZoom","dialog","filePicked","event","_this","files","target","fileReader","FileReader","addEventListener","gpx","DOMParser","parseFromString","result","$store","dispatch","a","readAsText","App_render","_vm","_h","$createElement","_c","_self","attrs","light","fixed","model","callback","$$v","expression","_l","item","key","on","$event","_v","_s","staticClass","stopPropagation","flat","left","dark","ref","staticStyle","display","type","accept","change","fluid","staticRenderFns","esExports","render","selectortype_template_index_0_src_App","normalizeComponent","__vue_styles__","Component","src_App","vue_router_esm","get_iterator","get_iterator_default","mapbox_gl","mapbox_gl_default","geojson","geojson_default","Map","map","computed","trackGeojson","getters","track","state","watch","getSource","setData","fillExplorerLayer","createMap","accessToken","container","style","center","maxZoom","minZoom","addControl","NavigationControl","mapLoaded","addSource","addLayer","id","source","layout","line-join","line-cap","paint","line-color","line-width","fill-color","fill-opacity","points","features","forEach","feature","concat","geometry","coordinates","getTiles","Number","allTiles","point","push","exists","polygons","_iteratorNormalCompletion","_didIteratorError","_iteratorError","undefined","_step","_iterator","next","done","tile","bbox","polygon","err","return","parse","Polygon","mounted","Map_render","Map_staticRenderFns","Map_esExports","components_Map","Map_normalizeComponent","Map___vue_styles__","Map_Component","src_components_Map","use","router","routes","path","component","vuex_esm","store","Store","mutations","setTrack","payload","setExplorerZoom","actions","_ref","commit","_ref2","ExplorerZoomDialog","dialogValue","get","set","ExplorerZoomDialog_render","row","justify-center","scrollable","max-width","slot","color","height","column","label","nativeOn","ExplorerZoomDialog_staticRenderFns","ExplorerZoomDialog_esExports","components_ExplorerZoomDialog","ExplorerZoomDialog_normalizeComponent","ExplorerZoomDialog_Component","src_components_ExplorerZoomDialog","theme","primary","secondary","accent","error","info","success","warning","config","productionTip","el","h","QCv7","V7Jb","mDtI"],"mappings":"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","file":"static/js/app.7ed0e7efd3a9352341ca.js","sourcesContent":["webpackJsonp([1],{\n\n/***/ 0:\n/***/ (function(module, exports) {\n\n/* (ignored) */\n\n/***/ }),\n\n/***/ \"NHnr\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n\n// EXTERNAL MODULE: ./node_modules/vue/dist/vue.runtime.esm.js\nvar vue_runtime_esm = __webpack_require__(\"/5sW\");\n\n// EXTERNAL MODULE: ./node_modules/vuetify/dist/vuetify.js\nvar vuetify = __webpack_require__(\"3EgV\");\nvar vuetify_default = /*#__PURE__*/__webpack_require__.n(vuetify);\n\n// EXTERNAL MODULE: ./node_modules/vuetify/dist/vuetify.css\nvar dist_vuetify = __webpack_require__(\"QCv7\");\nvar dist_vuetify_default = /*#__PURE__*/__webpack_require__.n(dist_vuetify);\n\n// EXTERNAL MODULE: ./node_modules/@mapbox/togeojson/togeojson.js\nvar togeojson = __webpack_require__(\"CgZs\");\nvar togeojson_default = /*#__PURE__*/__webpack_require__.n(togeojson);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/App.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n\n/* harmony default export */ var App = ({\n  name: 'app',\n  data: function data() {\n    return {\n      sideNav: false,\n      menuItems: [{ title: 'Upload track', icon: 'file_upload', action: 'uploadFile' }, { title: 'Explorer', icon: 'widgets', action: 'toggleExplorer' }]\n    };\n  },\n\n  methods: {\n    menuItemClicked: function menuItemClicked(action) {\n      this.sideNav = false;\n      switch (action) {\n        case 'uploadFile':\n          this.$refs.fileInput.click();\n          break;\n        case 'toggleExplorer':\n          this.$refs.explorerZoom.dialog = true;\n          break;\n      }\n    },\n    filePicked: function filePicked(event) {\n      var _this = this;\n\n      var files = event.target.files;\n      // let filename = files[0].name\n      // if (filename.lastIndexOf('.') <= 0) {\n      //   return alert('Please add a valid file!')\n      // }\n      var fileReader = new FileReader();\n      fileReader.addEventListener('load', function () {\n        var gpx = new DOMParser().parseFromString(fileReader.result, 'text/xml');\n        _this.$store.dispatch('setTrack', togeojson_default.a.gpx(gpx));\n      });\n      fileReader.readAsText(files[0], 'utf8');\n    }\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-4c066bb6\",\"hasScoped\":false,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/App.vue\nvar App_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-app',{attrs:{\"light\":\"\"}},[_c('v-navigation-drawer',{attrs:{\"fixed\":\"\"},model:{value:(_vm.sideNav),callback:function ($$v) {_vm.sideNav=$$v},expression:\"sideNav\"}},[_c('v-list',_vm._l((_vm.menuItems),function(item){return _c('v-list-tile',{key:item.title,on:{\"click\":function($event){_vm.menuItemClicked(item.action)}}},[_c('v-list-tile-action',[_c('v-icon',[_vm._v(_vm._s(item.icon))])],1),_vm._v(\" \"),_c('v-list-tile-content',[_c('v-list-tile-title',[_vm._v(_vm._s(item.title))])],1)],1)}))],1),_vm._v(\" \"),_c('v-toolbar',[_c('v-toolbar-side-icon',{staticClass:\"hidden-sm-and-up\",attrs:{\"light\":\"\"},on:{\"click\":function($event){$event.stopPropagation();_vm.sideNav = !_vm.sideNav}}}),_vm._v(\" \"),_c('v-toolbar-title',[_vm._v(\"Explorer\")]),_vm._v(\" \"),_c('v-spacer'),_vm._v(\" \"),_c('v-toolbar-items',{staticClass:\"hidden-xs-only\"},_vm._l((_vm.menuItems),function(item){return _c('v-btn',{key:item.title,attrs:{\"flat\":\"\"},on:{\"click\":function($event){_vm.menuItemClicked(item.action)}}},[_c('v-icon',{attrs:{\"left\":\"\",\"dark\":\"\"}},[_vm._v(_vm._s(item.icon))]),_vm._v(\"\\n        \"+_vm._s(item.title)+\"\\n      \")],1)}))],1),_vm._v(\" \"),_c('input',{ref:\"fileInput\",staticStyle:{\"display\":\"none\"},attrs:{\"type\":\"file\",\"accept\":\"text/xml text/gpx-xml text/gpx application/gpx-xml application/gpx\"},on:{\"change\":_vm.filePicked}}),_vm._v(\" \"),_c('app-explorer-zoom',{ref:\"explorerZoom\",staticStyle:{\"display\":\"none\"}}),_vm._v(\" \"),_c('v-content',{attrs:{\"fluid\":\"\"}},[_c('router-view')],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: App_render, staticRenderFns: staticRenderFns }\n/* harmony default export */ var selectortype_template_index_0_src_App = (esExports);\n// CONCATENATED MODULE: ./src/App.vue\nfunction injectStyle (ssrContext) {\n  __webpack_require__(\"mDtI\")\n}\nvar normalizeComponent = __webpack_require__(\"VU/8\")\n/* script */\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  App,\n  selectortype_template_index_0_src_App,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ var src_App = (Component.exports);\n\n// EXTERNAL MODULE: ./node_modules/vue-router/dist/vue-router.esm.js\nvar vue_router_esm = __webpack_require__(\"/ocq\");\n\n// EXTERNAL MODULE: ./node_modules/babel-runtime/core-js/get-iterator.js\nvar get_iterator = __webpack_require__(\"BO1k\");\nvar get_iterator_default = /*#__PURE__*/__webpack_require__.n(get_iterator);\n\n// EXTERNAL MODULE: ./node_modules/mapbox-gl/dist/mapbox-gl.js\nvar mapbox_gl = __webpack_require__(\"1e2d\");\nvar mapbox_gl_default = /*#__PURE__*/__webpack_require__.n(mapbox_gl);\n\n// EXTERNAL MODULE: ./node_modules/geojson/geojson.js\nvar geojson = __webpack_require__(\"+Div\");\nvar geojson_default = /*#__PURE__*/__webpack_require__.n(geojson);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/Map.vue\n\n//\n//\n//\n//\n//\n\n\n\n\n/* harmony default export */ var Map = ({\n  data: function data() {\n    return {\n      map: null\n    };\n  },\n\n  computed: {\n    trackGeojson: function trackGeojson() {\n      return this.$store.getters.track;\n    },\n    explorerZoom: function explorerZoom() {\n      return this.$store.state.explorerZoom;\n    }\n  },\n  watch: {\n    trackGeojson: function trackGeojson() {\n      this.map.getSource('track').setData(this.trackGeojson);\n      this.fillExplorerLayer();\n    },\n    explorerZoom: function explorerZoom() {\n      this.fillExplorerLayer();\n    }\n  },\n  methods: {\n    createMap: function createMap() {\n      mapbox_gl_default.a.accessToken = 'pk.eyJ1IjoiYW5pc2FydCIsImEiOiJjajluM3Z4YWgyNThjMzJtdmdlYTR4dG02In0.W1X35NjVBiwithy3SaUo8g';\n\n      // init the map\n      this.map = new mapbox_gl_default.a.Map({\n        container: 'map',\n        style: 'mapbox://styles/mapbox/streets-v9',\n        center: [43.8052, 56.2777],\n        zoom: 9,\n        maxZoom: 20,\n        minZoom: 1\n      });\n\n      this.map.addControl(new mapbox_gl_default.a.NavigationControl());\n\n      this.map.on('load', this.mapLoaded);\n    },\n    mapLoaded: function mapLoaded() {\n      this.map.addSource('track', {\n        type: 'geojson',\n        data: this.trackGeojson\n      });\n\n      this.map.addLayer({\n        id: 'track',\n        type: 'line',\n        source: 'track',\n        layout: {\n          'line-join': 'round',\n          'line-cap': 'round'\n        },\n        paint: {\n          'line-color': '#f00',\n          'line-width': 2\n        }\n      });\n\n      this.map.addSource('explorer', {\n        type: 'geojson',\n        data: null\n      });\n\n      this.map.addLayer({\n        id: 'explorer',\n        type: 'fill',\n        source: 'explorer',\n        paint: {\n          'fill-color': '#0f0',\n          'fill-opacity': 0.3\n        }\n      });\n    },\n    fillExplorerLayer: function fillExplorerLayer() {\n      if (this.trackGeojson === null) return;\n      var points = [];\n      this.trackGeojson.features.forEach(function (feature) {\n        points = points.concat(feature.geometry.coordinates);\n      });\n      this.map.getSource('explorer').setData(this.getTiles(points, Number(this.explorerZoom)));\n    },\n    getTiles: function getTiles(points, zoom) {\n      var allTiles = [];\n      points.forEach(function (point) {\n        var x = lon2tile(point[0], zoom);\n        var y = lat2tile(point[1], zoom);\n        allTiles.push({ x: x, y: y });\n      });\n      var exists = {};\n      var polygons = [];\n      var _iteratorNormalCompletion = true;\n      var _didIteratorError = false;\n      var _iteratorError = undefined;\n\n      try {\n        for (var _iterator = get_iterator_default()(allTiles), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n          var tile = _step.value;\n\n          var key = tile.x + '-' + tile.y;\n          if (exists[key]) {\n            continue;\n          }\n          exists[key] = true;\n          var bbox = tile2bbox(tile.x, tile.y, zoom);\n          var polygon = {\n            polygon: [[[bbox.west, bbox.north], [bbox.east, bbox.north], [bbox.east, bbox.south], [bbox.west, bbox.south], [bbox.west, bbox.north]]]\n          };\n          polygons.push(polygon);\n        }\n      } catch (err) {\n        _didIteratorError = true;\n        _iteratorError = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion && _iterator.return) {\n            _iterator.return();\n          }\n        } finally {\n          if (_didIteratorError) {\n            throw _iteratorError;\n          }\n        }\n      }\n\n      return geojson_default.a.parse(polygons, { Polygon: 'polygon' });\n    }\n  },\n  mounted: function mounted() {\n    this.createMap();\n  }\n});\n\nfunction lon2tile(lon, zoom) {\n  return Math.floor((lon + 180) / 360 * Math.pow(2, zoom));\n}\n\nfunction lat2tile(lat, zoom) {\n  return Math.floor((1 - Math.log(Math.tan(lat * Math.PI / 180) + 1 / Math.cos(lat * Math.PI / 180)) / Math.PI) / 2 * Math.pow(2, zoom));\n}\n\nfunction tile2lon(x, zoom) {\n  return x / Math.pow(2, zoom) * 360 - 180;\n}\n\nfunction tile2lat(y, zoom) {\n  var n = Math.PI - 2 * Math.PI * y / Math.pow(2, zoom);\n  return 180 / Math.PI * Math.atan(0.5 * (Math.exp(n) - Math.exp(-n)));\n}\n\nfunction tile2bbox(x, y, zoom) {\n  var north = tile2lat(y, zoom);\n  var south = tile2lat(y + 1, zoom);\n  var west = tile2lon(x, zoom);\n  var east = tile2lon(x + 1, zoom);\n  return { north: north, south: south, west: west, east: east };\n}\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-5b0db2e4\",\"hasScoped\":true,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/Map.vue\nvar Map_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"map\"}})}\nvar Map_staticRenderFns = []\nvar Map_esExports = { render: Map_render, staticRenderFns: Map_staticRenderFns }\n/* harmony default export */ var components_Map = (Map_esExports);\n// CONCATENATED MODULE: ./src/components/Map.vue\nfunction Map_injectStyle (ssrContext) {\n  __webpack_require__(\"V7Jb\")\n}\nvar Map_normalizeComponent = __webpack_require__(\"VU/8\")\n/* script */\n\n/* template */\n\n/* template functional */\nvar Map___vue_template_functional__ = false\n/* styles */\nvar Map___vue_styles__ = Map_injectStyle\n/* scopeId */\nvar Map___vue_scopeId__ = \"data-v-5b0db2e4\"\n/* moduleIdentifier (server only) */\nvar Map___vue_module_identifier__ = null\nvar Map_Component = Map_normalizeComponent(\n  Map,\n  components_Map,\n  Map___vue_template_functional__,\n  Map___vue_styles__,\n  Map___vue_scopeId__,\n  Map___vue_module_identifier__\n)\n\n/* harmony default export */ var src_components_Map = (Map_Component.exports);\n\n// CONCATENATED MODULE: ./src/router/index.js\n\n\n\n\nvue_runtime_esm[\"a\" /* default */].use(vue_router_esm[\"a\" /* default */]);\n\n/* harmony default export */ var router = (new vue_router_esm[\"a\" /* default */]({\n  routes: [{\n    path: '/',\n    name: 'Map',\n    component: src_components_Map\n  }]\n}));\n// EXTERNAL MODULE: ./node_modules/vuex/dist/vuex.esm.js\nvar vuex_esm = __webpack_require__(\"NYxO\");\n\n// CONCATENATED MODULE: ./src/store/index.js\n\n\n\nvue_runtime_esm[\"a\" /* default */].use(vuex_esm[\"a\" /* default */]);\n\nvar store = new vuex_esm[\"a\" /* default */].Store({\n  state: {\n    track: null,\n    explorerZoom: '14'\n  },\n  mutations: {\n    setTrack: function setTrack(state, payload) {\n      state.track = payload;\n    },\n    setExplorerZoom: function setExplorerZoom(state, payload) {\n      state.explorerZoom = payload;\n    }\n  },\n  actions: {\n    setTrack: function setTrack(_ref, payload) {\n      var commit = _ref.commit;\n\n      commit('setTrack', payload);\n    },\n    setExplorerZoom: function setExplorerZoom(_ref2, payload) {\n      var commit = _ref2.commit;\n\n      commit('setExplorerZoom', payload);\n    }\n  },\n  getters: {\n    track: function track(state) {\n      return state.track;\n    },\n    explorerZoom: function explorerZoom(state) {\n      return state.explorerZoom;\n    }\n  }\n});\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/ExplorerZoomDialog.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n/* harmony default export */ var ExplorerZoomDialog = ({\n  data: function data() {\n    return {\n      dialog: false\n    };\n  },\n\n  computed: {\n    dialogValue: {\n      get: function get() {\n        return this.$store.state.explorerZoom;\n      },\n      set: function set(value) {\n        this.$store.commit('setExplorerZoom', value);\n      }\n    }\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-a885bcd8\",\"hasScoped\":false,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/ExplorerZoomDialog.vue\nvar ExplorerZoomDialog_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-layout',{attrs:{\"row\":\"\",\"justify-center\":\"\"}},[_c('v-dialog',{attrs:{\"scrollable\":\"\",\"max-width\":\"300px\"},model:{value:(_vm.dialog),callback:function ($$v) {_vm.dialog=$$v},expression:\"dialog\"}},[_c('v-btn',{attrs:{\"slot\":\"activator\",\"color\":\"primary\",\"dark\":\"\"},slot:\"activator\"},[_vm._v(\"Open Dialog\")]),_vm._v(\" \"),_c('v-card',[_c('v-card-title',[_vm._v(\"Select explorer tile size\")]),_vm._v(\" \"),_c('v-divider'),_vm._v(\" \"),_c('v-card-text',{staticStyle:{\"height\":\"300px\"}},[_c('v-radio-group',{attrs:{\"column\":\"\"},model:{value:(_vm.dialogValue),callback:function ($$v) {_vm.dialogValue=$$v},expression:\"dialogValue\"}},[_c('v-radio',{attrs:{\"label\":\"4 km\",\"value\":\"12\"}}),_vm._v(\" \"),_c('v-radio',{attrs:{\"label\":\"2 km\",\"value\":\"13\"}}),_vm._v(\" \"),_c('v-radio',{attrs:{\"label\":\"1 km\",\"value\":\"14\"}}),_vm._v(\" \"),_c('v-radio',{attrs:{\"label\":\"500 m\",\"value\":\"15\"}}),_vm._v(\" \"),_c('v-radio',{attrs:{\"label\":\"250 m\",\"value\":\"16\"}})],1)],1),_vm._v(\" \"),_c('v-divider'),_vm._v(\" \"),_c('v-card-actions',[_c('v-btn',{attrs:{\"color\":\"blue darken-1\",\"flat\":\"\"},nativeOn:{\"click\":function($event){_vm.dialog = false}}},[_vm._v(\"Close\")])],1)],1)],1)],1)}\nvar ExplorerZoomDialog_staticRenderFns = []\nvar ExplorerZoomDialog_esExports = { render: ExplorerZoomDialog_render, staticRenderFns: ExplorerZoomDialog_staticRenderFns }\n/* harmony default export */ var components_ExplorerZoomDialog = (ExplorerZoomDialog_esExports);\n// CONCATENATED MODULE: ./src/components/ExplorerZoomDialog.vue\nvar ExplorerZoomDialog_normalizeComponent = __webpack_require__(\"VU/8\")\n/* script */\n\n/* template */\n\n/* template functional */\nvar ExplorerZoomDialog___vue_template_functional__ = false\n/* styles */\nvar ExplorerZoomDialog___vue_styles__ = null\n/* scopeId */\nvar ExplorerZoomDialog___vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar ExplorerZoomDialog___vue_module_identifier__ = null\nvar ExplorerZoomDialog_Component = ExplorerZoomDialog_normalizeComponent(\n  ExplorerZoomDialog,\n  components_ExplorerZoomDialog,\n  ExplorerZoomDialog___vue_template_functional__,\n  ExplorerZoomDialog___vue_styles__,\n  ExplorerZoomDialog___vue_scopeId__,\n  ExplorerZoomDialog___vue_module_identifier__\n)\n\n/* harmony default export */ var src_components_ExplorerZoomDialog = (ExplorerZoomDialog_Component.exports);\n\n// CONCATENATED MODULE: ./src/main.js\n\n\n\n\n\n\n\n\n\n\nvue_runtime_esm[\"a\" /* default */].component('app-explorer-zoom', src_components_ExplorerZoomDialog);\n\nvue_runtime_esm[\"a\" /* default */].use(vuetify_default.a, {\n  theme: {\n    primary: '#ee44aa',\n    secondary: '#424242',\n    accent: '#82B1FF',\n    error: '#FF5252',\n    info: '#2196F3',\n    success: '#4CAF50',\n    warning: '#FFC107'\n  }\n});\n\nvue_runtime_esm[\"a\" /* default */].config.productionTip = false;\n\n/* eslint-disable no-new */\nnew vue_runtime_esm[\"a\" /* default */]({\n  el: '#app',\n  router: router,\n  store: store,\n  render: function render(h) {\n    return h(src_App);\n  }\n});\n\n/***/ }),\n\n/***/ \"QCv7\":\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ \"V7Jb\":\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ \"mDtI\":\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ })\n\n},[\"NHnr\"]);\n\n\n// WEBPACK FOOTER //\n// static/js/app.7ed0e7efd3a9352341ca.js","function injectStyle (ssrContext) {\n  require(\"!!../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-4c066bb6\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../node_modules/vue-loader/lib/selector?type=styles&index=0!./App.vue\")\n}\nvar normalizeComponent = require(\"!../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nimport __vue_script__ from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\n/* template */\nimport __vue_template__ from \"!!../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-4c066bb6\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":\\\"src\\\",\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../node_modules/vue-loader/lib/selector?type=template&index=0!./App.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/App.vue\n// module id = null\n// module chunks = ","<template>\r\n  <div id='map'>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport mapboxgl from 'mapbox-gl'\r\nimport geojson from 'geojson'\r\n\r\nexport default {\r\n  data () {\r\n    return {\r\n      map: null\r\n    }\r\n  },\r\n  computed: {\r\n    trackGeojson () {\r\n      return this.$store.getters.track\r\n    },\r\n    explorerZoom () {\r\n      return this.$store.state.explorerZoom\r\n    }\r\n  },\r\n  watch: {\r\n    trackGeojson () {\r\n      this.map.getSource('track').setData(this.trackGeojson)\r\n      this.fillExplorerLayer()\r\n    },\r\n    explorerZoom () {\r\n      this.fillExplorerLayer()\r\n    }\r\n  },\r\n  methods: {\r\n    createMap () {\r\n      mapboxgl.accessToken =\r\n        'pk.eyJ1IjoiYW5pc2FydCIsImEiOiJjajluM3Z4YWgyNThjMzJtdmdlYTR4dG02In0.W1X35NjVBiwithy3SaUo8g'\r\n\r\n      // init the map\r\n      this.map = new mapboxgl.Map({\r\n        container: 'map',\r\n        style: 'mapbox://styles/mapbox/streets-v9',\r\n        center: [43.8052, 56.2777],\r\n        zoom: 9,\r\n        maxZoom: 20,\r\n        minZoom: 1\r\n      })\r\n\r\n      this.map.addControl(new mapboxgl.NavigationControl())\r\n\r\n      this.map.on('load', this.mapLoaded)\r\n    },\r\n    mapLoaded () {\r\n      this.map.addSource('track', {\r\n        type: 'geojson',\r\n        data: this.trackGeojson\r\n      })\r\n\r\n      this.map.addLayer({\r\n        id: 'track',\r\n        type: 'line',\r\n        source: 'track',\r\n        layout: {\r\n          'line-join': 'round',\r\n          'line-cap': 'round'\r\n        },\r\n        paint: {\r\n          'line-color': '#f00',\r\n          'line-width': 2\r\n        }\r\n      })\r\n\r\n      this.map.addSource('explorer', {\r\n        type: 'geojson',\r\n        data: null\r\n      })\r\n\r\n      this.map.addLayer({\r\n        id: 'explorer',\r\n        type: 'fill',\r\n        source: 'explorer',\r\n        paint: {\r\n          'fill-color': '#0f0',\r\n          'fill-opacity': 0.3\r\n        }\r\n      })\r\n    },\r\n    fillExplorerLayer () {\r\n      if (this.trackGeojson === null) return\r\n      let points = []\r\n      this.trackGeojson.features.forEach(feature => { points = points.concat(feature.geometry.coordinates) })\r\n      this.map.getSource('explorer').setData(this.getTiles(points, Number(this.explorerZoom)))\r\n    },\r\n    getTiles (points, zoom) {\r\n      const allTiles = []\r\n      points.forEach(point => {\r\n        const x = lon2tile(point[0], zoom)\r\n        const y = lat2tile(point[1], zoom)\r\n        allTiles.push({ x: x, y: y })\r\n      })\r\n      const exists = {}\r\n      const polygons = []\r\n      for (let tile of allTiles) {\r\n        const key = `${tile.x}-${tile.y}`\r\n        if (exists[key]) {\r\n          continue\r\n        }\r\n        exists[key] = true\r\n        const bbox = tile2bbox(tile.x, tile.y, zoom)\r\n        const polygon = {\r\n          polygon: [\r\n            [\r\n              [bbox.west, bbox.north],\r\n              [bbox.east, bbox.north],\r\n              [bbox.east, bbox.south],\r\n              [bbox.west, bbox.south],\r\n              [bbox.west, bbox.north]\r\n            ]\r\n          ]\r\n        }\r\n        polygons.push(polygon)\r\n      }\r\n      return geojson.parse(polygons, { Polygon: 'polygon' })\r\n    }\r\n  },\r\n  mounted () {\r\n    this.createMap()\r\n  }\r\n}\r\n\r\nfunction lon2tile (lon, zoom) {\r\n  return Math.floor((lon + 180) / 360 * Math.pow(2, zoom))\r\n}\r\n\r\nfunction lat2tile (lat, zoom) {\r\n  return Math.floor(\r\n    (1 -\r\n      Math.log(\r\n        Math.tan(lat * Math.PI / 180) + 1 / Math.cos(lat * Math.PI / 180)\r\n      ) /\r\n      Math.PI) /\r\n    2 *\r\n    Math.pow(2, zoom)\r\n  )\r\n}\r\n\r\nfunction tile2lon (x, zoom) {\r\n  return x / Math.pow(2, zoom) * 360 - 180\r\n}\r\n\r\nfunction tile2lat (y, zoom) {\r\n  const n = Math.PI - 2 * Math.PI * y / Math.pow(2, zoom)\r\n  return 180 / Math.PI * Math.atan(0.5 * (Math.exp(n) - Math.exp(-n)))\r\n}\r\n\r\nfunction tile2bbox (x, y, zoom) {\r\n  const north = tile2lat(y, zoom)\r\n  const south = tile2lat(y + 1, zoom)\r\n  const west = tile2lon(x, zoom)\r\n  const east = tile2lon(x + 1, zoom)\r\n  return { north: north, south: south, west: west, east: east }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n/* body {\r\n  margin: 0;\r\n  padding: 0;\r\n} */\r\n\r\n#map {\r\n  /* position: relative;\r\n  top: 0;\r\n  bottom: 0;\r\n  width: 100%; */\r\n  height: 100%;\r\n}\r\n</style>\n\n\n// WEBPACK FOOTER //\n// src/components/Map.vue","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-5b0db2e4\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Map.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Map.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-5b0db2e4\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":\\\"src\\\",\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./Map.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-5b0db2e4\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Map.vue\n// module id = null\n// module chunks = ","<template>\n  <v-app light>\n    <v-navigation-drawer fixed v-model=\"sideNav\">\n      <v-list>\n        <v-list-tile \n          v-for=\"item in menuItems\"\n          :key=\"item.title\"\n          @click=\"menuItemClicked(item.action)\">\n          <v-list-tile-action>\n            <v-icon>{{ item.icon }}</v-icon>\n          </v-list-tile-action>\n          <v-list-tile-content>\n            <v-list-tile-title>{{ item.title }}</v-list-tile-title>\n          </v-list-tile-content>\n        </v-list-tile>\n      </v-list>\n    </v-navigation-drawer>\n    <v-toolbar>\n      <v-toolbar-side-icon \n        light \n        @click.stop=\"sideNav = !sideNav\" \n        class=\"hidden-sm-and-up\">\n      </v-toolbar-side-icon>\n      <v-toolbar-title>Explorer</v-toolbar-title>\n      <v-spacer></v-spacer>\n      <v-toolbar-items class=\"hidden-xs-only\">\n        <v-btn\n          flat\n          v-for=\"item in menuItems\"\n          :key=\"item.title\"\n          @click=\"menuItemClicked(item.action)\">\n          <v-icon left dark>{{ item.icon }}</v-icon>\n          {{ item.title }}\n        </v-btn>\n      </v-toolbar-items>\n    </v-toolbar>\n    <input \n      type=\"file\"\n      style=\"display: none\"\n      ref=\"fileInput\"\n      accept=\"text/xml text/gpx-xml text/gpx application/gpx-xml application/gpx\"\n      @change=\"filePicked\">\n    <app-explorer-zoom\n      style=\"display: none\"\n      ref=\"explorerZoom\">\n    </app-explorer-zoom>\n    <v-content fluid>\n      <router-view></router-view>\n    </v-content>\n  </v-app>\n</template>\n\n<script>\nimport togeojson from '@mapbox/togeojson'\n\nexport default {\n  name: 'app',\n  data () {\n    return {\n      sideNav: false,\n      menuItems: [\n        { title: 'Upload track', icon: 'file_upload', action: 'uploadFile' },\n        { title: 'Explorer', icon: 'widgets', action: 'toggleExplorer' }\n      ]\n    }\n  },\n  methods: {\n    menuItemClicked (action) {\n      this.sideNav = false\n      switch (action) {\n        case 'uploadFile':\n          this.$refs.fileInput.click()\n          break\n        case 'toggleExplorer':\n          this.$refs.explorerZoom.dialog = true\n          break\n      }\n    },\n    filePicked (event) {\n      const files = event.target.files\n      // let filename = files[0].name\n      // if (filename.lastIndexOf('.') <= 0) {\n      //   return alert('Please add a valid file!')\n      // }\n      const fileReader = new FileReader()\n      fileReader.addEventListener('load', () => {\n        const gpx = new DOMParser().parseFromString(fileReader.result, 'text/xml')\n        this.$store.dispatch('setTrack', togeojson.gpx(gpx))\n      })\n      fileReader.readAsText(files[0], 'utf8')\n    }\n  }\n}\n</script>\n\n<style>\nhtml {\n  overflow-y: auto;\n}\n</style>\n\n\n\n\n// WEBPACK FOOTER //\n// src/App.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-app',{attrs:{\"light\":\"\"}},[_c('v-navigation-drawer',{attrs:{\"fixed\":\"\"},model:{value:(_vm.sideNav),callback:function ($$v) {_vm.sideNav=$$v},expression:\"sideNav\"}},[_c('v-list',_vm._l((_vm.menuItems),function(item){return _c('v-list-tile',{key:item.title,on:{\"click\":function($event){_vm.menuItemClicked(item.action)}}},[_c('v-list-tile-action',[_c('v-icon',[_vm._v(_vm._s(item.icon))])],1),_vm._v(\" \"),_c('v-list-tile-content',[_c('v-list-tile-title',[_vm._v(_vm._s(item.title))])],1)],1)}))],1),_vm._v(\" \"),_c('v-toolbar',[_c('v-toolbar-side-icon',{staticClass:\"hidden-sm-and-up\",attrs:{\"light\":\"\"},on:{\"click\":function($event){$event.stopPropagation();_vm.sideNav = !_vm.sideNav}}}),_vm._v(\" \"),_c('v-toolbar-title',[_vm._v(\"Explorer\")]),_vm._v(\" \"),_c('v-spacer'),_vm._v(\" \"),_c('v-toolbar-items',{staticClass:\"hidden-xs-only\"},_vm._l((_vm.menuItems),function(item){return _c('v-btn',{key:item.title,attrs:{\"flat\":\"\"},on:{\"click\":function($event){_vm.menuItemClicked(item.action)}}},[_c('v-icon',{attrs:{\"left\":\"\",\"dark\":\"\"}},[_vm._v(_vm._s(item.icon))]),_vm._v(\"\\n        \"+_vm._s(item.title)+\"\\n      \")],1)}))],1),_vm._v(\" \"),_c('input',{ref:\"fileInput\",staticStyle:{\"display\":\"none\"},attrs:{\"type\":\"file\",\"accept\":\"text/xml text/gpx-xml text/gpx application/gpx-xml application/gpx\"},on:{\"change\":_vm.filePicked}}),_vm._v(\" \"),_c('app-explorer-zoom',{ref:\"explorerZoom\",staticStyle:{\"display\":\"none\"}}),_vm._v(\" \"),_c('v-content',{attrs:{\"fluid\":\"\"}},[_c('router-view')],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-4c066bb6\",\"hasScoped\":false,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/App.vue\n// module id = null\n// module chunks = ","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"map\"}})}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-5b0db2e4\",\"hasScoped\":true,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/Map.vue\n// module id = null\n// module chunks = ","import Vue from 'vue'\nimport Router from 'vue-router'\nimport Map from '@/components/Map'\n\nVue.use(Router)\n\nexport default new Router({\n  routes: [\n    {\n      path: '/',\n      name: 'Map',\n      component: Map\n    }\n  ]\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/router/index.js","import Vue from 'vue'\r\nimport Vuex from 'vuex'\r\n\r\nVue.use(Vuex)\r\n\r\nexport const store = new Vuex.Store({\r\n  state: {\r\n    track: null,\r\n    explorerZoom: '14'\r\n  },\r\n  mutations: {\r\n    setTrack (state, payload) {\r\n      state.track = payload\r\n    },\r\n    setExplorerZoom (state, payload) {\r\n      state.explorerZoom = payload\r\n    }\r\n  },\r\n  actions: {\r\n    setTrack ({ commit }, payload) {\r\n      commit('setTrack', payload)\r\n    },\r\n    setExplorerZoom ({ commit }, payload) {\r\n      commit('setExplorerZoom', payload)\r\n    }\r\n  },\r\n  getters: {\r\n    track (state) {\r\n      return state.track\r\n    },\r\n    explorerZoom (state) {\r\n      return state.explorerZoom\r\n    }\r\n  }\r\n})\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/index.js","<template>\r\n  <v-layout row justify-center>\r\n    <v-dialog v-model=\"dialog\" scrollable max-width=\"300px\">\r\n      <v-btn color=\"primary\" dark slot=\"activator\">Open Dialog</v-btn>\r\n      <v-card>\r\n        <v-card-title>Select explorer tile size</v-card-title>\r\n        <v-divider></v-divider>\r\n        <v-card-text style=\"height: 300px;\">\r\n          <v-radio-group v-model=\"dialogValue\" column>\r\n            <v-radio label=\"4 km\" value=\"12\"></v-radio>\r\n            <v-radio label=\"2 km\" value=\"13\"></v-radio>\r\n            <v-radio label=\"1 km\" value=\"14\"></v-radio>\r\n            <v-radio label=\"500 m\" value=\"15\"></v-radio>\r\n            <v-radio label=\"250 m\" value=\"16\"></v-radio>\r\n          </v-radio-group>\r\n        </v-card-text>\r\n        <v-divider></v-divider>\r\n        <v-card-actions>\r\n          <v-btn color=\"blue darken-1\" flat @click.native=\"dialog = false\">Close</v-btn>\r\n        </v-card-actions>\r\n      </v-card>\r\n    </v-dialog>\r\n  </v-layout>\r\n</template>\r\n\r\n<script>\r\n  export default {\r\n    data () {\r\n      return {\r\n        dialog: false\r\n      }\r\n    },\r\n    computed: {\r\n      dialogValue: {\r\n        get () {\r\n          return this.$store.state.explorerZoom\r\n        },\r\n        set (value) {\r\n          this.$store.commit('setExplorerZoom', value)\r\n        }\r\n      }\r\n    }\r\n  }\r\n</script>\n\n\n// WEBPACK FOOTER //\n// src/components/ExplorerZoomDialog.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-layout',{attrs:{\"row\":\"\",\"justify-center\":\"\"}},[_c('v-dialog',{attrs:{\"scrollable\":\"\",\"max-width\":\"300px\"},model:{value:(_vm.dialog),callback:function ($$v) {_vm.dialog=$$v},expression:\"dialog\"}},[_c('v-btn',{attrs:{\"slot\":\"activator\",\"color\":\"primary\",\"dark\":\"\"},slot:\"activator\"},[_vm._v(\"Open Dialog\")]),_vm._v(\" \"),_c('v-card',[_c('v-card-title',[_vm._v(\"Select explorer tile size\")]),_vm._v(\" \"),_c('v-divider'),_vm._v(\" \"),_c('v-card-text',{staticStyle:{\"height\":\"300px\"}},[_c('v-radio-group',{attrs:{\"column\":\"\"},model:{value:(_vm.dialogValue),callback:function ($$v) {_vm.dialogValue=$$v},expression:\"dialogValue\"}},[_c('v-radio',{attrs:{\"label\":\"4 km\",\"value\":\"12\"}}),_vm._v(\" \"),_c('v-radio',{attrs:{\"label\":\"2 km\",\"value\":\"13\"}}),_vm._v(\" \"),_c('v-radio',{attrs:{\"label\":\"1 km\",\"value\":\"14\"}}),_vm._v(\" \"),_c('v-radio',{attrs:{\"label\":\"500 m\",\"value\":\"15\"}}),_vm._v(\" \"),_c('v-radio',{attrs:{\"label\":\"250 m\",\"value\":\"16\"}})],1)],1),_vm._v(\" \"),_c('v-divider'),_vm._v(\" \"),_c('v-card-actions',[_c('v-btn',{attrs:{\"color\":\"blue darken-1\",\"flat\":\"\"},nativeOn:{\"click\":function($event){_vm.dialog = false}}},[_vm._v(\"Close\")])],1)],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-a885bcd8\",\"hasScoped\":false,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/ExplorerZoomDialog.vue\n// module id = null\n// module chunks = ","var normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./ExplorerZoomDialog.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-a885bcd8\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":\\\"src\\\",\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./ExplorerZoomDialog.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/ExplorerZoomDialog.vue\n// module id = null\n// module chunks = ","import Vue from 'vue'\n\nimport Vuetify from 'vuetify'\nimport 'vuetify/dist/vuetify.css'\n\nimport App from './App'\nimport router from './router'\nimport { store } from './store'\nimport ExplorerZoom from './components/ExplorerZoomDialog'\n\nVue.component('app-explorer-zoom', ExplorerZoom)\n\nVue.use(Vuetify, {\n  theme: {\n    primary: '#ee44aa',\n    secondary: '#424242',\n    accent: '#82B1FF',\n    error: '#FF5252',\n    info: '#2196F3',\n    success: '#4CAF50',\n    warning: '#FFC107'\n  }\n})\n\nVue.config.productionTip = false\n\n/* eslint-disable no-new */\nnew Vue({\n  el: '#app',\n  router,\n  store,\n  render: h => h(App)\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.js"],"sourceRoot":""}